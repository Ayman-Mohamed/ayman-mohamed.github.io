webpackJsonp([0],{suUD:function(t,e,n){"use strict";function o(t){return null==t||0===t.length}function i(t){return null!=t}function r(t){var e=Object(C._6)(t)?Object(k.a)(t):t;if(!Object(C._5)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function s(t){var e=t.reduce(function(t,e){return null!=e?Object(P.a)({},t,e):t},{});return 0===Object.keys(e).length?null:e}function u(t){return t.validate?function(e){return t.validate(e)}:t}function l(t){return t.validate?function(e){return t.validate(e)}:t}function a(){throw new Error("unimplemented")}function c(t,e){return e.path.concat([t])}function h(t,e){t||f(e,"Cannot find control with"),e.valueAccessor||f(e,"No value accessor for form control with"),t.validator=U.compose([t.validator,e.validator]),t.asyncValidator=U.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&p(t,e)})}(t,e),function(e,n){t.registerOnChange(function(t,e){n.valueAccessor.writeValue(t),e&&n.viewToModelUpdate(t)})}(0,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&p(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(function(t){e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})}),e._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})})}function p(t,e){e.viewToModelUpdate(t._pendingValue),t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),t._pendingChange=!1}function f(t,e){var n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}function d(t){return null!=t?U.compose(t.map(u)):null}function y(t){return null!=t?U.composeAsync(t.map(l)):null}function g(t){var e=_(t)?t.validators:t;return Array.isArray(e)?d(e):e||null}function m(t,e){var n=_(e)?e.asyncValidators:t;return Array.isArray(n)?y(n):n||null}function _(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function v(t){return C._18(0,[(t()(),C._1(0,0,null,null,0,"canvas",[],[[8,"id",0],[8,"width",0],[8,"height",0]],null,null,null,null))],null,function(t,e){var n=e.component;t(e,0,0,n.id,n.width,n.height)})}function b(t){return C._18(0,[C._15(402653184,1,{canvas:0}),(t()(),C._1(1,0,null,null,46,"span",[],null,null,null,null,null)),(t()(),C._17(-1,null,["\n    "])),(t()(),C._1(3,0,null,null,0,"input",[["class","btn btn-success btn-sm"],["type","submit"]],[[8,"value",0]],[[null,"click"]],function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.component.start()&&o),o},null,null)),(t()(),C._17(-1,null,["\n\n    "])),(t()(),C._1(5,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),C._17(6,null,["",""])),(t()(),C._17(-1,null,["\n    "])),(t()(),C._1(8,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),C._17(9,null,["",""])),(t()(),C._17(-1,null,["\n    "])),(t()(),C._1(11,0,null,null,35,"div",[["class","row"]],null,null,null,null,null)),(t()(),C._17(-1,null,["\n\n        "])),(t()(),C._1(13,0,null,null,4,"div",[["class","col-xs-2"]],null,null,null,null,null)),(t()(),C._17(-1,null,["\n            "])),(t()(),C._1(15,0,null,null,1,"label",[["class","control-label"],["for","populationSize"]],null,null,null,null,null)),(t()(),C._17(-1,null,["Population Size"])),(t()(),C._17(-1,null,["\n        "])),(t()(),C._17(-1,null,["\n        "])),(t()(),C._1(19,0,null,null,9,"div",[["class","col-xs-2"]],null,null,null,null,null)),(t()(),C._17(-1,null,["\n            "])),(t()(),C._1(21,0,null,null,6,"input",[["class","form-control"],["id","populationSize"],["name","populationSize"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(t,e,n){var o=!0,i=t.component;return"input"===e&&(o=!1!==C._13(t,22)._handleInput(n.target.value)&&o),"blur"===e&&(o=!1!==C._13(t,22).onTouched()&&o),"compositionstart"===e&&(o=!1!==C._13(t,22)._compositionStart()&&o),"compositionend"===e&&(o=!1!==C._13(t,22)._compositionEnd(n.target.value)&&o),"change"===e&&(o=!1!==C._13(t,23).onChange(n.target.value)&&o),"input"===e&&(o=!1!==C._13(t,23).onChange(n.target.value)&&o),"blur"===e&&(o=!1!==C._13(t,23).onTouched()&&o),"ngModelChange"===e&&(o=!1!==(i.populationSize=n)&&o),o},null,null)),C._0(22,16384,null,0,W,[C.B,C.k,[2,L]],null,null),C._0(23,16384,null,0,Z,[C.B,C.k],null,null),C._14(1024,null,z,function(t,e){return[t,e]},[W,Z]),C._0(25,671744,null,0,ft,[[8,null],[8,null],[8,null],[2,z]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),C._14(2048,null,q,null,[ft]),C._0(27,16384,null,0,Q,[q],null,null),(t()(),C._17(-1,null,["\n        "])),(t()(),C._17(-1,null,["\n        "])),(t()(),C._1(30,0,null,null,4,"div",[["class","col-xs-2"]],null,null,null,null,null)),(t()(),C._17(-1,null,["\n            "])),(t()(),C._1(32,0,null,null,1,"label",[["class","control-label"],["for","numberOfCities"]],null,null,null,null,null)),(t()(),C._17(-1,null,["Number of Cities"])),(t()(),C._17(-1,null,["\n        "])),(t()(),C._17(-1,null,["\n        "])),(t()(),C._1(36,0,null,null,9,"div",[["class","col-xs-2"]],null,null,null,null,null)),(t()(),C._17(-1,null,["\n            "])),(t()(),C._1(38,0,null,null,6,"input",[["class","form-control"],["id","numberOfCities"],["name","numberOfCities"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(t,e,n){var o=!0,i=t.component;return"input"===e&&(o=!1!==C._13(t,39)._handleInput(n.target.value)&&o),"blur"===e&&(o=!1!==C._13(t,39).onTouched()&&o),"compositionstart"===e&&(o=!1!==C._13(t,39)._compositionStart()&&o),"compositionend"===e&&(o=!1!==C._13(t,39)._compositionEnd(n.target.value)&&o),"change"===e&&(o=!1!==C._13(t,40).onChange(n.target.value)&&o),"input"===e&&(o=!1!==C._13(t,40).onChange(n.target.value)&&o),"blur"===e&&(o=!1!==C._13(t,40).onTouched()&&o),"ngModelChange"===e&&(o=!1!==(i.numberOfCities=n)&&o),o},null,null)),C._0(39,16384,null,0,W,[C.B,C.k,[2,L]],null,null),C._0(40,16384,null,0,Z,[C.B,C.k],null,null),C._14(1024,null,z,function(t,e){return[t,e]},[W,Z]),C._0(42,671744,null,0,ft,[[8,null],[8,null],[8,null],[2,z]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),C._14(2048,null,q,null,[ft]),C._0(44,16384,null,0,Q,[q],null,null),(t()(),C._17(-1,null,["\n        "])),(t()(),C._17(-1,null,["\n    "])),(t()(),C._17(-1,null,["\n"])),(t()(),C._17(-1,null,["\n"])),(t()(),C._1(49,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),C._17(-1,null,["\n"])),(t()(),C._1(51,0,null,null,1,"enhanced-canvas",[["id","tspcanvas"]],null,null,null,v,mt)),C._0(52,114688,[[1,4]],0,gt.a,[],{id:[0,"id"],width:[1,"width"],height:[2,"height"]},null)],function(t,e){var n=e.component;t(e,25,0,"populationSize",n.isRunning,n.populationSize),t(e,42,0,"numberOfCities",n.isRunning,n.numberOfCities),t(e,52,0,"tspcanvas",n.width,n.height)},function(t,e){var n=e.component;t(e,3,0,n.isRunning?"Stop":"Run"),t(e,6,0,n.currentGeneration),t(e,9,0,n.mutationCount),t(e,21,0,C._13(e,27).ngClassUntouched,C._13(e,27).ngClassTouched,C._13(e,27).ngClassPristine,C._13(e,27).ngClassDirty,C._13(e,27).ngClassValid,C._13(e,27).ngClassInvalid,C._13(e,27).ngClassPending),t(e,38,0,C._13(e,44).ngClassUntouched,C._13(e,44).ngClassTouched,C._13(e,44).ngClassPristine,C._13(e,44).ngClassDirty,C._13(e,44).ngClassValid,C._13(e,44).ngClassInvalid,C._13(e,44).ngClassPending)})}Object.defineProperty(e,"__esModule",{value:!0});var C=n("LMZF"),O=n("QC9w"),V=function(){return new O.a},w=function(){},P=n("6Xbx"),E=n("AP4T"),A=n("Ecq+"),S=n("1j/l"),j=n("qgI0"),M=n("lI6h"),x=function(t){function e(e,n){t.call(this),this.sources=e,this.resultSelector=n}return Object(P.b)(e,t),e.create=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];if(null===t||0===arguments.length)return new A.a;var o=null;return"function"==typeof t[t.length-1]&&(o=t.pop()),1===t.length&&Object(S.a)(t[0])&&(t=t[0]),0===t.length?new A.a:new e(t,o)},e.prototype._subscribe=function(t){return new T(t,this.sources,this.resultSelector)},e}(E.a),T=function(t){function e(e,n,o){t.call(this,e),this.sources=n,this.resultSelector=o,this.completed=0,this.haveValues=0;var i=n.length;this.total=i,this.values=new Array(i);for(var r=0;r<i;r++){var s=n[r],u=Object(j.a)(this,s,null,r);u&&(u.outerIndex=r,this.add(u))}}return Object(P.b)(e,t),e.prototype.notifyNext=function(t,e,n,o,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this.haveValues,o=this.resultSelector,i=this.values,r=i.length;if(t._hasValue){if(this.completed++,this.completed===r){if(n===r){var s=o?o.apply(this,i):i;e.next(s)}e.complete()}}else e.complete()},e}(M.a),D=x.create,k=n("CASk"),N=n("dmC+"),G=n("RyBE"),I=function(){function t(){}return Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return this.control?this.control.getError(t,e):null},t}(),F=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.b)(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(I),R=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,U=function(){function t(){}return t.min=function(t){return function(e){if(o(e.value)||o(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}},t.max=function(t){return function(e){if(o(e.value)||o(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}},t.required=function(t){return o(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return R.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(o(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){if(!e)return t.nullValidator;var n,i;return"string"==typeof e?(i="^"+e+"$",n=new RegExp(i)):(i=e.toString(),n=e),function(t){if(o(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:i,actualValue:e}}}},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(i);return 0==e.length?null:function(t){return s(function(t,n){return e.map(function(e){return e(t)})}(t))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(i);return 0==e.length?null:function(t){var n=function(t,n){return e.map(function(e){return e(t)})}(t).map(r);return N.a.call(D(n),s)}},t}(),z=new C.o("NgValueAccessor"),B=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),L=new C.o("CompositionEventMode"),W=function(){function t(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){var t=Object(G.r)()?Object(G.r)().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},t}(),Z=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),q=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return Object(P.b)(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return a()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return a()},enumerable:!0,configurable:!0}),e}(I),H=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name},t}(),$=function(){function t(t,e,n,o){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=o,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get(q),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t}(),J=[B,function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),Z,function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=C._9}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(t,n){return null==e?""+n:(n&&"object"==typeof n&&(n="Object"),(e+": "+n).slice(0,50))}(0,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var o=n[e];if(this._compareWith(this._optionMap.get(o),t))return o}return null},t.prototype._getOptionValue=function(t){var e=t.split(":")[0];return this._optionMap.has(e)?this._optionMap.get(e):t},t}(),function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=C._9}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e=this;this.value=t;var n;if(Array.isArray(t)){var o=t.map(function(t){return e._getOptionId(t)});n=function(t,e){t._setSelected(o.indexOf(e.toString())>-1)}}else n=function(t,e){t._setSelected(!1)};this._optionMap.forEach(n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var o=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,r=0;r<i.length;r++){var s=i.item(r),u=e._getOptionValue(s.value);o.push(u)}else for(i=n.options,r=0;r<i.length;r++)(s=i.item(r)).selected&&(u=e._getOptionValue(s.value),o.push(u));e.value=o,t(o)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var o=n[e];if(this._compareWith(this._optionMap.get(o)._value,t))return o}return null},t.prototype._getOptionValue=function(t){var e=t.split(":")[0];return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t}(),$],X=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.b)(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return c(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return d(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return y(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(F),Q=function(t){function e(e){return t.call(this,e)||this}return Object(P.b)(e,t),e}(function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}()),Y="VALID",K="INVALID",tt="PENDING",et="DISABLED",nt=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.status===Y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.status===K},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.status==tt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.status===et},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.status!==et},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=g(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=m(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){void 0===t&&(t={}),this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype.markAsPending=function(t){void 0===t&&(t={}),this.status=tt,this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},t.prototype.disable=function(t){void 0===t&&(t={}),this.status=et,this.errors=null,this._forEachChild(function(t){t.disable({onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(!!t.onlySelf),this._onDisabledChange.forEach(function(t){return t(!0)})},t.prototype.enable=function(t){void 0===t&&(t={}),this.status=Y,this._forEachChild(function(t){t.enable({onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(!!t.onlySelf),this._onDisabledChange.forEach(function(t){return t(!1)})},t.prototype._updateAncestors=function(t){this._parent&&!t&&(this._parent.updateValueAndValidity(),this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Y&&this.status!==tt||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._updateTreeValidity=function(t){void 0===t&&(t={emitEvent:!0}),this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},t.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?et:Y},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this.status=tt;var n=r(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return e.setErrors(n,{emitEvent:t})})}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.get=function(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce(function(t,e){return t instanceof it?t.controls[e]||null:t instanceof rt?t.at(e)||null:null},t))}(this,t)},t.prototype.getError=function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this.valueChanges=new C.m,this.statusChanges=new C.m},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?et:this.errors?K:this._anyControlsHaveStatus(tt)?tt:this._anyControlsHaveStatus(K)?K:Y},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls(function(e){return e.status===t})},t.prototype._anyControlsDirty=function(){return this._anyControls(function(t){return t.dirty})},t.prototype._anyControlsTouched=function(){return this._anyControls(function(t){return t.touched})},t.prototype._updatePristine=function(t){void 0===t&&(t={}),this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype._updateTouched=function(t){void 0===t&&(t={}),this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t.prototype._setUpdateStrategy=function(t){_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)},t}(),ot=function(t){function e(e,n,o){void 0===e&&(e=null);var i=t.call(this,g(n),m(o,n))||this;return i._onChange=[],i._applyFormState(e),i._setUpdateStrategy(n),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i._initObservables(),i}return Object(P.b)(e,t),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(function(t){return t(n.value,!1!==e.emitViewToModelChange)}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t},e}(nt),it=function(t){function e(e,n,o){var i=t.call(this,g(n),m(o,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return Object(P.b)(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach(function(o){n._throwIfControlMissing(o),n.controls[o].setValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),Object.keys(t).forEach(function(o){n.controls[o]&&n.controls[o].patchValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild(function(n,o){n.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof ot?e.value:e.getRawValue(),t})},e.prototype._syncPendingControls=function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})},e.prototype._updateValue=function(){this.value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild(function(o,i){n=n||e.contains(i)&&t(o)}),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},function(e,n,o){return(n.enabled||t.disabled)&&(e[o]=n.value),e})},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild(function(t,o){n=e(n,t,o)}),n},e.prototype._allControlsDisabled=function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++)if(this.controls[e[t]].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},e}(nt),rt=function(t){function e(e,n,o){var i=t.call(this,g(n),m(o,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return Object(P.b)(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach(function(t,o){n._throwIfControlMissing(o),n.at(o).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),t.forEach(function(t,o){n.at(o)&&n.at(o).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild(function(n,o){n.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this.controls.map(function(t){return t instanceof ot?t.value:t.getRawValue()})},e.prototype._syncPendingControls=function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach(function(e,n){t(e,n)})},e.prototype._updateValue=function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})},e.prototype._anyControls=function(t){return this.controls.some(function(e){return e.enabled&&t(e)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")})},e.prototype._allControlsDisabled=function(){for(var t=0,e=this.controls;t<e.length;t++)if(e[t].enabled)return!1;return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(nt),st=Promise.resolve(null),ut=function(t){function e(e,n){var o=t.call(this)||this;return o.submitted=!1,o._directives=[],o.ngSubmit=new C.m,o.form=new it({},d(e),y(n)),o}return Object(P.b)(e,t),e.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;st.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),h(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e=this;st.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),function(e,n){var o=e.indexOf(t);o>-1&&e.splice(o,1)}(e._directives)})},e.prototype.addFormGroup=function(t){var e=this;st.then(function(){var n=e._findContainer(t.path),o=new it({});(function(t,e){null==t&&f(e,"Cannot find control with"),t.validator=U.compose([t.validator,e.validator]),t.asyncValidator=U.composeAsync([t.asyncValidator,e.asyncValidator])})(o,t),n.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})},e.prototype.removeFormGroup=function(t){var e=this;st.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var n=this;st.then(function(){n.form.get(t.path).setValue(e)})},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.onSubmit=function(t){return this.submitted=!0,function(t,e){t._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},e.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},e}(F),lt='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',at='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ct=function(){function t(){}return t.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')},t.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+lt+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+at)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},t.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+lt+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+at)},t}(),ht=function(t){function e(e,n,o){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=o,i}return Object(P.b)(e,t),e.prototype._checkParentType=function(){this._parent instanceof e||this._parent instanceof ut||ct.modelGroupParentException()},e}(X),pt=Promise.resolve(null),ft=function(t){function e(e,n,o,i){var r=t.call(this)||this;return r.control=new ot,r._registered=!1,r.update=new C.m,r._parent=e,r._rawValidators=n||[],r._rawAsyncValidators=o||[],r.valueAccessor=function(t,e){if(!e)return null;var n=void 0,o=void 0,i=void 0;return e.forEach(function(e){e.constructor===W?n=e:function(t){return J.some(function(e){return t.constructor===e})}(e)?(o&&f(t,"More than one built-in value accessor matches form control with"),o=e):(i&&f(t,"More than one custom value accessor matches form control with"),i=e)}),i||o||n||(f(t,"No valid value accessor for form control with"),null)}(r,i),r}return Object(P.b)(e,t),e.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object(C._9)(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"path",{get:function(){return this._parent?c(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return d(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return y(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},e.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},e.prototype._setUpStandalone=function(){h(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof ht)&&this._parent instanceof X?ct.formGroupNameException():this._parent instanceof ht||this._parent instanceof ut||ct.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||ct.missingNameException()},e.prototype._updateValue=function(t){var e=this;pt.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})},e.prototype._updateDisabled=function(t){var e=this,n=t.isDisabled.currentValue,o=""===n||n&&"false"!==n;pt.then(function(){o&&!e.control.disabled?e.control.disable():!o&&e.control.disabled&&e.control.enable()})},e}(q),dt=function(){},yt=function(){},gt=n("WItM"),mt=C.Z({encapsulation:0,styles:["canvas[_ngcontent-%COMP%] {\n            border : 1px solid #ccc;\n        }"],data:{}}),_t={populationSize:100,numberOfCities:200,mutationRate:.05},vt=function(){function t(){this.genes=[],this.fitness=0}return Object.defineProperty(t.prototype,"length",{get:function(){return this.genes.length},enumerable:!0,configurable:!0}),t.prototype.add=function(t){this.genes.push(t)},t.prototype.clone=function(){for(var e=new t,n=0;n<this.genes.length;n++)e.genes.push(this.genes[n].clone());return e.fitness=this.fitness,e},t.prototype.swap=function(t,e){var n=this.genes[t];this.genes[t]=this.genes[e],this.genes[e]=n},t}(),bt=function(t,e){this.x=t,this.y=e},Ct=function(){function t(t){this.value=t}return t.prototype.clone=function(){var e=new t;return e.value=this.value,e},t}(),Ot=function(){function t(){this.chromosomes=[]}return Object.defineProperty(t.prototype,"length",{get:function(){return this.chromosomes.length},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.chromosomes.push(t)},t.prototype.takeTop=function(t){this.chromosomes=this.chromosomes.slice(0,t)},t.prototype.sort=function(){this.chromosomes.sort(function(t,e){return e.fitness-t.fitness})},Object.defineProperty(t.prototype,"top",{get:function(){return this.chromosomes[0]},enumerable:!0,configurable:!0}),t}(),Vt=function(){function t(t,e,n,o,i,r,s,u){this.title=t,this.crossOver=e,this.rnd=n,this.fitness=o,this.mutation=i,this.distance=r,this.selection=s,this.util=u,this.width=700,this.height=500,this.bestFitness=0,this.currentGeneration=0,this.isRunning=!1,t.setTitle("TSP With Genetic Algorithm"),this.populationSize=_t.populationSize,this.numberOfCities=_t.numberOfCities,this.mutation.setMutationRate(_t.mutationRate)}return Object.defineProperty(t.prototype,"mutationCount",{get:function(){return this.mutation.count},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){var t=this;this.canvas.clear(),setTimeout(function(){t.start()},2)},t.prototype.start=function(){var t=this;if(this.isRunning)this.isRunning=!1;else{this.isRunning=!0,this.initialize();var e=500,n=function(){t.run(),setTimeout(function(){e--&&t.isRunning?n():t.isRunning=!1},1)};n()}},t.prototype.run=function(){this.calculateFitness(),this.runGeneration()},t.prototype.initialize=function(){this.bestGene=void 0,this.bestLocalGene=void 0,this.bestFitness=0,this.bestLocalFitness=0,this.currentGeneration=0,this.lastFitnessCount=0,this.mutation.count=0,this.cities=[];for(var t=[],e=0;e<this.numberOfCities;e++)this.cities[e]=new bt(this.rnd.next(10,this.width-10),this.rnd.next(10,this.height-10)),t[e]=e;for(this.distance.registerCities(this.cities),this.population=new Ot,e=0;e<this.populationSize;e++){var n=new vt;n.genes=this.util.shuffleArray(t.map(function(t){return new Ct(t)})),this.population.push(n)}},t.prototype.runGeneration=function(){this.currentGeneration++;var t=new Ot;if(this.bestGene){t.push(this.bestGene.clone());var e=this.bestGene.clone();this.mutation.forceMutate(e),t.push(e.clone()),this.mutation.forceMutate(e),t.push(e.clone()),t.push(e)}for(;t.length<this.populationSize;){var n=this.selection.tournament(this.population),o=this.selection.tournament(this.population),i=this.crossOver.getChild(n,o);this.mutation.mutate(i),t.push(i)}this.population=t},t.prototype.calculateFitness=function(){var t=this;this.population.chromosomes.map(function(e){e.fitness=t.fitness.calculateFitness(e)}),this.population.chromosomes.sort(),this.population.takeTop(this.populationSize),this.bestLocalGene=this.population.top,this.bestLocalFitness=this.bestLocalGene.fitness,this.selection.normalizeFitness(this.population),this.checkGeneratinoResults()},t.prototype.checkGeneratinoResults=function(){this.bestFitness<this.bestLocalFitness?(this.bestFitness=this.bestLocalFitness,this.bestGene=this.bestLocalGene,this.canvas.draw(this.cities,this.bestGene.genes.map(function(t){return t.value})),this.lastFitnessCount=1):this.lastFitnessCount++},t}(),wt=function(){function t(){this.All=[]}return t.prototype.next=function(t){var e=this.All[t];return e.Next?e.Next.value:this.Head.value},t.prototype.prev=function(t){var e=this.All[t];return e.Prev?e.Prev.value:this.Tail.value},t.prototype.remove=function(t){var e=this.All[t];e.Prev&&(e.Prev.Next=e.Next),e.Next&&(e.Next.Prev=e.Prev),e==this.Head&&(this.Head=e.Next),e==this.Tail&&(this.Tail=e.Prev)},t.prototype.addAfter=function(t,e){if(void 0===e&&(e=-1),-1==e)this.Head=new Pt(t),this.Tail=this.Head,this.All[t]=this.Head;else{var n=this.All[e],o=new Pt(t);o.Prev=n,n.Next=o,this.Tail=o,this.All[t]=o}return this},t}(),Pt=function(t){this.value=t},Et=function(){function t(t,e,n){this.mutation=t,this.distance=e,this.rnd=n}return t.prototype.getChild=function(t,e){return this.getChildByLookingAround(t,e)},t.prototype.getChildByLookingAround=function(t,e){for(var n,o=t.length,i=new wt,r=new wt,s=-1,u=-1,l=0;l<o;l++)i.addAfter(n=t.genes[l].value,s),s=n,r.addAfter(n=e.genes[l].value,u),u=n;var a=new vt,c=this.rnd.next(o);a.add(new Ct(c));for(var h=o;h>1;){var p=i.prev(c),f=r.prev(c),d=i.next(c),y=r.next(c);i.remove(c),r.remove(c),h--;var g=this.distance.distanceByIndex(c,p),m=this.distance.distanceByIndex(c,f),_=this.distance.distanceByIndex(c,d),v=this.distance.distanceByIndex(c,y);g>m&&(g=m,p=f),_>v&&(_=v,d=y),a.add(new Ct(c=g<_?p:d))}return a},t.prototype.getChildByLookingForward=function(t,e){for(var n,o=t.length,i=new wt,r=new wt,s=-1,u=-1,l=0;l<o;l++)i.addAfter(n=t.genes[l].value,s),s=n,r.addAfter(n=e.genes[l].value,u),u=n;var a=new vt,c=this.rnd.next(o);a.add(new Ct(c));for(var h=o;h>1;){var p=i.next(c),f=r.next(c);i.remove(c),r.remove(c),h--;var d=this.distance.distanceByIndex(c,p),y=this.distance.distanceByIndex(c,f);a.add(new Ct(c=d<y?p:f))}return a},t.prototype.getChildByLookingBackward=function(t,e){for(var n,o=t.length,i=new wt,r=new wt,s=-1,u=-1,l=0;l<o;l++)i.addAfter(n=t.genes[l].value,s),s=n,r.addAfter(n=e.genes[l].value,u),u=n;var a=new vt,c=this.rnd.next(o);a.add(new Ct(c));for(var h=o;h>1;){var p=i.prev(c),f=r.prev(c);i.remove(c),r.remove(c),h--;var d=this.distance.distanceByIndex(c,p),y=this.distance.distanceByIndex(c,f);a.add(new Ct(c=d<y?p:f))}return a},t}(),At=function(){function t(t){this.distance=t}return t.prototype.calculateFitness=function(t){for(var e=0,n=0,o=t.length,i=o-1;n<o;n++,i=(i+1)%o)e+=this.distance.distanceByIndex(t.genes[n].value,t.genes[i].value);return 1-e/this.distance.MaxDistance},t}(),St=function(){function t(t,e){this.rnd=t,this.distance=e,this.mutationRate=.05,this.count=0}return t.prototype.setMutationRate=function(t){if(t<0||t>1)throw new TypeError("Muration Rate must be a number between 0 and 1");this.mutationRate=t},t.prototype.mutate=function(t){this.rnd.next()>this.mutationRate||(this.count++,this.forceMutate(t))},t.prototype.forceMutate=function(t){var e=this.rnd.next(3);0===e?this.randomPositionMutate(t):1===e?this.threePiecesMutate(t):this.neighbourMutate(t)},t.prototype.randomPositionMutate=function(t){for(var e=t.length,n=0;n<e/2;n++){var o=this.rnd.next(e-1),i=this.rnd.next(e-1);t.swap(o,i)}},t.prototype.threePiecesMutate=function(t){var e=t.genes,n=t.length,o=this.rnd.next(n-5),i=this.rnd.next(o,n-1),r=e.slice(0,o),s=e.slice(o,i),u=e.slice(i,n);t.genes=s.concat(r).concat(u)},t.prototype.neighbourMutate=function(t){for(var e=t.genes,n=t.length,o=0;o<n;o++){var i=(o+1)%n,r=(o+2)%n,s=(o+3)%n,u=0;u+=this.distance.distanceByIndex(e[o].value,e[i].value),u+=this.distance.distanceByIndex(e[r].value,e[s].value),t.swap(i,r);var l=0;l+=this.distance.distanceByIndex(e[o].value,e[i].value),(l+=this.distance.distanceByIndex(e[r].value,e[s].value))>u&&t.swap(i,r)}},t}(),jt=n("mDE7"),Mt=function(){function t(){this.distanceTable=[]}return t.prototype.registerCities=function(t){var e=t.length;this.numberOfCities=e,this.distanceTable=[];for(var n=[],o=0;o<e;o++){this.distanceTable.push([]);for(var i=0;i<e;i++){var r=this.cityDistance(t[o],t[i]);this.distanceTable[o].push(r),n.push(r)}}n.sort(function(t,e){return e-t}),this._maxDistance=n.slice(0,e+1).reduce(function(t,e){return t+e},0)+1e3},Object.defineProperty(t.prototype,"MaxDistance",{get:function(){return this._maxDistance},enumerable:!0,configurable:!0}),t.prototype.distanceByIndex=function(t,e){if(t<0||t>=this.numberOfCities)throw new jt.a("Index "+t+" is out of bounds. Number of Cities = "+this.numberOfCities);if(e<0||e>=this.numberOfCities)throw new jt.a("Index "+e+" is out of bounds. Number of Cities = "+this.numberOfCities);return this.distanceTable[t][e]},t.prototype.cityDistance=function(t,e){return this.distance(t.x,t.y,e.x,e.y)},t.prototype.distance=function(t,e,n,o){return Math.sqrt((t-n)*(t-n)+(e-o)*(e-o))},t}(),xt=function(){function t(t){this.rnd=t}return t.prototype.normalizeFitness=function(t){this.normalizedFitness=[];for(var e=t.chromosomes.reduce(function(t,e){return t+e.fitness},0),n=t.chromosomes.length,o=0;o<n;o++)this.normalizedFitness.push(t.chromosomes[o].fitness/e);for(o=1;o<n;o++)this.normalizedFitness[o]+=this.normalizedFitness[o-1]},t.prototype.tournament=function(t){for(var e=[],n=t.length,o=0;o<n/10;o++){var i=this.rnd.next(n);e.push(t.chromosomes[i])}return e.sort(function(t,e){return e.fitness-t.fitness}),e[0]},t.prototype.roulette=function(t){for(var e,n=this.rnd.next(),o=0,i=t.length-1;i-o>0;)e=Math.floor((o+i)/2),this.normalizedFitness[e]>n?i=e:o=e+1;return t.chromosomes[i]},t}(),Tt=function(){function t(t){this.rnd=t}return t.prototype.cloneArray=function(t){return t.slice()},t.prototype.shuffleArray=function(t){var e=this;return this.cloneArray(t).sort(function(t,n){return e.rnd.next()-.5})},t}(),Dt=C.Z({encapsulation:2,styles:[],data:{}}),kt=C.X("tsp-ga",Vt,function(t){return C._18(0,[(t()(),C._1(0,0,null,null,1,"tsp-ga",[],null,null,null,b,Dt)),C._0(1,4243456,null,0,Vt,[G.h,Et,O.a,At,St,Mt,xt,Tt],null,null)],null,null)},{},{},[]),Nt=n("Un6q"),Gt=n("UHIZ"),It=n("T2Au");n.d(e,"TSPGAModuleNgFactory",function(){return Ft});var Ft=C.Y(w,[],function(t){return C._11([C._12(512,C.j,C.V,[[8,[kt]],[3,C.j],C.v]),C._12(4608,Nt.i,Nt.h,[C.s,[2,Nt.m]]),C._12(4608,H,H,[]),C._12(4608,wt,wt,[]),C._12(5120,O.a,V,[]),C._12(4608,Mt,Mt,[]),C._12(4608,St,St,[O.a,Mt]),C._12(4608,Et,Et,[St,Mt,O.a]),C._12(4608,At,At,[Mt]),C._12(4608,xt,xt,[O.a]),C._12(4608,Tt,Tt,[O.a]),C._12(512,Nt.b,Nt.b,[]),C._12(512,Gt.m,Gt.m,[[2,Gt.r],[2,Gt.k]]),C._12(512,dt,dt,[]),C._12(512,yt,yt,[]),C._12(512,It.a,It.a,[]),C._12(512,w,w,[]),C._12(1024,Gt.i,function(){return[[{path:"",component:Vt,pathMatch:"full"}]]},[])])})}});